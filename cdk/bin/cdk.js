#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const cdk_stack_1 = require("../lib/cdk-stack");
const repository = process.env.GITHUB_REPOSITORY;
if (!repository) {
    throw Error('GITHUB_REPOSITORY must be configured');
}
const workspace = process.env.GITHUB_WORKSPACE;
if (!workspace) {
    throw Error('GITHUB_WORKSPACE must be configured');
}
const refname = process.env.GITHUB_REF_NAME;
if (!refname) {
    throw Error('GITHUB_REF_NAME must be configured');
}
const app = new cdk.App();
new cdk_stack_1.CdkStack(app, 'StaticWebStack', {
    stackName: repository.split('/')[1]
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2RrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHVDQUFxQztBQUNyQyxtQ0FBbUM7QUFDbkMsZ0RBQTRDO0FBRTVDLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUM7QUFDakQsSUFBRyxDQUFDLFVBQVUsRUFBRTtJQUNkLE1BQU0sS0FBSyxDQUFDLHNDQUFzQyxDQUFDLENBQUE7Q0FDcEQ7QUFDRCxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDO0FBQy9DLElBQUcsQ0FBQyxTQUFTLEVBQUU7SUFDYixNQUFNLEtBQUssQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFBO0NBQ25EO0FBQ0QsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUM7QUFDNUMsSUFBRyxDQUFDLE9BQU8sRUFBRTtJQUNYLE1BQU0sS0FBSyxDQUFDLG9DQUFvQyxDQUFDLENBQUE7Q0FDbEQ7QUFFRCxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUcxQixJQUFJLG9CQUFRLENBQUMsR0FBRyxFQUFFLGdCQUFnQixFQUFFO0lBQ2xDLFNBQVMsRUFBRSxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNwQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgJ3NvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3Rlcic7XG5pbXBvcnQgKiBhcyBjZGsgZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0IHsgQ2RrU3RhY2sgfSBmcm9tICcuLi9saWIvY2RrLXN0YWNrJztcblxuY29uc3QgcmVwb3NpdG9yeSA9IHByb2Nlc3MuZW52LkdJVEhVQl9SRVBPU0lUT1JZO1xuaWYoIXJlcG9zaXRvcnkpIHtcbiAgdGhyb3cgRXJyb3IoJ0dJVEhVQl9SRVBPU0lUT1JZIG11c3QgYmUgY29uZmlndXJlZCcpXG59XG5jb25zdCB3b3Jrc3BhY2UgPSBwcm9jZXNzLmVudi5HSVRIVUJfV09SS1NQQUNFO1xuaWYoIXdvcmtzcGFjZSkge1xuICB0aHJvdyBFcnJvcignR0lUSFVCX1dPUktTUEFDRSBtdXN0IGJlIGNvbmZpZ3VyZWQnKVxufVxuY29uc3QgcmVmbmFtZSA9IHByb2Nlc3MuZW52LkdJVEhVQl9SRUZfTkFNRTtcbmlmKCFyZWZuYW1lKSB7XG4gIHRocm93IEVycm9yKCdHSVRIVUJfUkVGX05BTUUgbXVzdCBiZSBjb25maWd1cmVkJylcbn1cblxuY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcblxuXG5uZXcgQ2RrU3RhY2soYXBwLCAnU3RhdGljV2ViU3RhY2snLCB7XG4gIHN0YWNrTmFtZTogcmVwb3NpdG9yeS5zcGxpdCgnLycpWzFdXG59KTsiXX0=